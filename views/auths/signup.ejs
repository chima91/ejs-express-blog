<html lang="jp">
<%- include('../partials/head.ejs') %>
<body>
    <%- include('../partials/nav.ejs') %>

    <form action="/signup">
      <h2>サインアップ</h2>
      <label for="email">メールアドレス</label>
      <input type="text" name="email" required />
      <div class="email error"></div>
      <label for="password">パスワード</label>
      <input type="password" name="password" required />
      <div class="password error"></div>
      <button>サインアップ</button>
    </form>

    <%- include('../partials/footer.ejs') %>

    <script>
      const form = document.querySelector('form');
      form.addEventListener('submit', async (e) => {
        e.preventDefault();

        const email = form.email.value;
        const password = form.password.value;
        try {
          const res = await fetch('/signup', {
            method: 'POST',
            body: JSON.stringify({ email, password }),
            headers: {'Content-Type': 'application/json'}
          });
        }
        catch (err) {
          console.log(err);
        }
      });
    </script>
</body>
</html>

